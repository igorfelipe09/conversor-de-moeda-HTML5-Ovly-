<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Conversor de Moeda - Sa√≠da</title>
		
		<script>
			function voltar(){
			 //Voltar para entrada
			 location.href = "entrada.html";
			}
			
			function carregaResposta(){
			 
			 var oUrl = new URL(location.href);
			 var sValorOrigem = oUrl.searchParams.get("valor_origem");
			 console.log(sValorOrigem);
			 	
			}
			
			function callback(){
				
			console.log("Caiu aqui");
			
			// var oResponse = this;
		   	// var sResponseBody = oResponse.responseText;
		   	
		   	 var sResponseBody = this.responseText;
		   	
		     var oJSON = JSON.parse(sResponseBody);
			 var sReais = oJSON.rates.BRL;
		     console.log(sReais);
		     
		     document.querySelector("#valor_destino").value = sReais;
				
			}
			
			function chamaAPI(){
				
			 const sURL = "https://api.exchangeratesapi.io/latest";
			 var oRequest = new XMLHttpRequest();
			 oRequest.addEventListener("load", callback);
			 oRequest.open("Get", sURL);
			 oRequest.send( );
			 console.log("depois do send");
			 
			}
			
			window.onload = function(){
				chamaAPI();
			}
			
		</script>
		
	</head>
	<body>
			
		<label>Moeda de Destino</label>	
		<input type="text" value="BRL" disabled>
		<br/>
		<label>Valor de Destino</label>
		<input id="valor_destino" type="number" disabled>
		
		<br/>
		<button type="button" onclick="voltar()">
	     Voltar		
		</button>
			
		</form>
		
	</body>
</html>